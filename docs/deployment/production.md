# AIçŸ¥è¯†ç”»å»Š--Ask me anything about UEC v1.0 éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£æè¿°å¦‚ä½•åœ¨å†…ç½‘ç¯å¢ƒä¸­éƒ¨ç½²AIçŸ¥è¯†ç”»å»Šç³»ç»Ÿä»¥æ”¯æŒå¤šç”¨æˆ·å¹¶å‘è®¿é—®ã€‚

## ğŸ¯ ä¼˜åŒ–ç‰¹æ€§

æœ¬æ¬¡ä¼˜åŒ–å®ç°äº†ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

### âœ… å¤šç”¨æˆ·å¹¶å‘æ”¯æŒ
- **ä¼šè¯éš”ç¦»**ï¼šæ¯ä¸ªç”¨æˆ·æ‹¥æœ‰ç‹¬ç«‹çš„èŠå¤©ä¼šè¯å’Œä¸Šä¸‹æ–‡
- **çº¿ç¨‹å®‰å…¨**ï¼šæ‰€æœ‰å…±äº«èµ„æºéƒ½ç»è¿‡çº¿ç¨‹å®‰å…¨å¤„ç†
- **èµ„æºç®¡ç†**ï¼šæ™ºèƒ½ç®¡ç†å‘é‡æ•°æ®åº“å’ŒAIæ¨¡å‹èµ„æº
- **è‡ªåŠ¨æ¸…ç†**ï¼šè¿‡æœŸä¼šè¯è‡ªåŠ¨æ¸…ç†ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼

### âœ… æ€§èƒ½ä¼˜åŒ–
- **èµ„æºå¤ç”¨**ï¼šå…±äº«å‘é‡æ•°æ®åº“å’Œæ–‡æ¡£å¤„ç†å™¨
- **è¿æ¥æ± åŒ–**ï¼šä¼˜åŒ–æ•°æ®åº“è¿æ¥ç®¡ç†
- **å†…å­˜ä¼˜åŒ–**ï¼šPythonåƒåœ¾å›æ”¶å’Œå†…å­˜åˆ†é…ä¼˜åŒ–
- **å¹¶å‘å¤„ç†**ï¼šThreadedHTTPServeræ”¯æŒå¤šçº¿ç¨‹è¯·æ±‚å¤„ç†

### âœ… ç›‘æ§ç®¡ç†
- **å®æ—¶ç›‘æ§**ï¼šç³»ç»Ÿèµ„æºå’Œåº”ç”¨çŠ¶æ€ç›‘æ§
- **ç®¡ç†é¢æ¿**ï¼šWebç•Œé¢æŸ¥çœ‹ä¼šè¯çŠ¶æ€å’Œç³»ç»Ÿå¥åº·åº¦
- **å‘Šè­¦æœºåˆ¶**ï¼šèµ„æºä½¿ç”¨è¶…é™æ—¶è‡ªåŠ¨å‘Šè­¦
- **æ€§èƒ½åˆ†æ**ï¼šè¯¦ç»†çš„å“åº”æ—¶é—´å’Œé”™è¯¯ç‡ç»Ÿè®¡

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. ç³»ç»Ÿè¦æ±‚

**ç¡¬ä»¶è¦æ±‚**ï¼š
- CPU: 4æ ¸å¿ƒä»¥ä¸Š
- å†…å­˜: 8GBä»¥ä¸Šï¼ˆæ¨è16GBï¼‰
- å­˜å‚¨: 50GBä»¥ä¸Šå¯ç”¨ç©ºé—´
- ç½‘ç»œ: åƒå…†å†…ç½‘

**è½¯ä»¶è¦æ±‚**ï¼š
- Python 3.8+
- uvåŒ…ç®¡ç†å·¥å…·
- Linux/macOSç³»ç»Ÿ

### 2. å®‰è£…uvå·¥å…·

```bash
# å®‰è£…uvï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh

# é‡æ–°åŠ è½½shellé…ç½®
source ~/.bashrc  # æˆ– source ~/.zshrc
```

### 3. ä¸€é”®éƒ¨ç½²

```bash
# å…‹éš†æˆ–è¿›å…¥é¡¹ç›®ç›®å½•
cd mygallery

# ä½¿ç”¨éƒ¨ç½²è„šæœ¬ä¸€é”®éƒ¨ç½²
./scripts/deploy_intranet.sh

# æˆ–è€…æŒ‡å®šå‚æ•°éƒ¨ç½²
./scripts/deploy_intranet.sh --port 9000 --max-sessions 100
```

### 4. æŸ¥çœ‹éƒ¨ç½²é€‰é¡¹

```bash
./scripts/deploy_intranet.sh --help
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

ç¼–è¾‘ `.env` æ–‡ä»¶æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# åŸºæœ¬é…ç½®
OPENAI_API_KEY=your_openai_api_key
OPENAI_MODEL=gpt-4o-mini

# å¤šç”¨æˆ·å¹¶å‘é…ç½®
MAX_SESSIONS=50              # æœ€å¤§åŒæ—¶ä¼šè¯æ•°
SESSION_TIMEOUT_MINUTES=30   # ä¼šè¯è¶…æ—¶æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
CLEANUP_INTERVAL_SECONDS=300 # æ¸…ç†æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰

# æœåŠ¡å™¨é…ç½®
PORT=8000                    # æœåŠ¡å™¨ç«¯å£
HOST=0.0.0.0                # ç›‘å¬åœ°å€ï¼ˆ0.0.0.0ä¸ºæ‰€æœ‰ç½‘å£ï¼‰

# ç›‘æ§é…ç½®
MONITOR_SERVER_URL=http://localhost:8000
MONITOR_INTERVAL=30          # ç›‘æ§æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
```

### æ€§èƒ½è°ƒä¼˜å‚æ•°

```bash
# ç³»ç»Ÿä¼˜åŒ–
export PYTHON_GC_THRESHOLD="700,10,10"  # Pythonåƒåœ¾å›æ”¶é˜ˆå€¼
export MALLOC_TRIM_THRESHOLD=100000     # å†…å­˜åˆ†é…ä¼˜åŒ–
export PYTHONOPTIMIZE=2                 # Pythonå­—èŠ‚ç ä¼˜åŒ–
export PYTHONDONTWRITEBYTECODE=1        # ç¦ç”¨.pycæ–‡ä»¶ç”Ÿæˆ
```

## ğŸ“Š ç³»ç»Ÿç›‘æ§

### ç®¡ç†é¢æ¿

è®¿é—® `http://æœåŠ¡å™¨IP:ç«¯å£/admin` æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ï¼š

- **ç³»ç»ŸçŠ¶æ€**ï¼šCPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡
- **ä¼šè¯ç®¡ç†**ï¼šæ´»è·ƒä¼šè¯åˆ—è¡¨å’ŒçŠ¶æ€
- **å¥åº·æ£€æŸ¥**ï¼šå„ç»„ä»¶è¿è¡ŒçŠ¶æ€
- **æ€§èƒ½æŒ‡æ ‡**ï¼šå“åº”æ—¶é—´ã€é”™è¯¯ç‡ç»Ÿè®¡

### å‘½ä»¤è¡Œç›‘æ§

```bash
# å¯åŠ¨ç‹¬ç«‹ç›‘æ§è¿›ç¨‹
python3 monitor.py

# æ‰§è¡Œä¸€æ¬¡æ£€æŸ¥
python3 monitor.py --once

# æŸ¥çœ‹ç›‘æ§å¸®åŠ©
python3 monitor.py --help
```

### ç›‘æ§å‘Šè­¦

ç³»ç»Ÿä¼šåœ¨ä»¥ä¸‹æƒ…å†µå‘å‡ºå‘Šè­¦ï¼š

- CPUä½¿ç”¨ç‡ > 80%
- å†…å­˜ä½¿ç”¨ç‡ > 85%
- ç£ç›˜ä½¿ç”¨ç‡ > 90%
- æ´»è·ƒä¼šè¯æ•° > 40
- å“åº”æ—¶é—´ > 5ç§’
- åº”ç”¨ç¨‹åºä¸å¯ç”¨

å‘Šè­¦ä¿¡æ¯ä¼šè®°å½•åœ¨ `monitor.log` å’Œ `alerts.log` æ–‡ä»¶ä¸­ã€‚

## ğŸ§ª æ€§èƒ½æµ‹è¯•

### å¹¶å‘æµ‹è¯•å·¥å…·

ä½¿ç”¨å†…ç½®çš„å¹¶å‘æµ‹è¯•å·¥å…·éªŒè¯ç³»ç»Ÿæ€§èƒ½ï¼š

```bash
# åŸºæœ¬å¹¶å‘æµ‹è¯•ï¼ˆ5ç”¨æˆ·ï¼Œæ¯ç”¨æˆ·3è¯·æ±‚ï¼‰
python3 test_concurrent.py

# é«˜å¹¶å‘æµ‹è¯•ï¼ˆ20ç”¨æˆ·ï¼Œæ¯ç”¨æˆ·5è¯·æ±‚ï¼‰
python3 test_concurrent.py --users 20 --requests 5

# ä¿å­˜æµ‹è¯•æŠ¥å‘Š
python3 test_concurrent.py --users 10 --requests 3 --output test_report.txt

# ä»…æŸ¥çœ‹å½“å‰ä¼šè¯ç»Ÿè®¡
python3 test_concurrent.py --stats-only
```

### å‹åŠ›æµ‹è¯•å»ºè®®

**è½»è´Ÿè½½æµ‹è¯•**ï¼š
```bash
python3 test_concurrent.py --users 5 --requests 3
```

**ä¸­è´Ÿè½½æµ‹è¯•**ï¼š
```bash
python3 test_concurrent.py --users 15 --requests 5
```

**é‡è´Ÿè½½æµ‹è¯•**ï¼š
```bash
python3 test_concurrent.py --users 30 --requests 10
```

### æ€§èƒ½åŸºå‡†

åŸºäºæ¨èç¡¬ä»¶é…ç½®çš„æ€§èƒ½åŸºå‡†ï¼š

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| å¹¶å‘ç”¨æˆ·æ•° | 50+ |
| å¹³å‡å“åº”æ—¶é—´ | < 3ç§’ |
| å³°å€¼å“åº”æ—¶é—´ | < 10ç§’ |
| æˆåŠŸç‡ | > 95% |
| å†…å­˜ä½¿ç”¨ | < 4GB |
| CPUä½¿ç”¨ç‡ | < 70% |

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. ç«¯å£è¢«å ç”¨**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep :8000

# æ›´æ¢ç«¯å£
./scripts/deploy_intranet.sh --port 9000
```

**2. å†…å­˜ä¸è¶³**
```bash
# å‡å°‘æœ€å¤§ä¼šè¯æ•°
export MAX_SESSIONS=20

# å‡å°‘ä¼šè¯è¶…æ—¶æ—¶é—´
export SESSION_TIMEOUT_MINUTES=15
```

**3. uvå·¥å…·æœªå®‰è£…**
```bash
# å®‰è£…uv
curl -LsSf https://astral.sh/uv/install.sh | sh
source ~/.bashrc
```

**4. Pythonç‰ˆæœ¬è¿‡ä½**
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version

# éœ€è¦Python 3.8+ï¼Œè¯·å‡çº§Python
```

### æ—¥å¿—æ–‡ä»¶

ç³»ç»Ÿè¿è¡Œæ—¶äº§ç”Ÿçš„æ—¥å¿—æ–‡ä»¶ï¼š

- `server.log` - æœåŠ¡å™¨è¿è¡Œæ—¥å¿—
- `monitor.log` - ç›‘æ§ç³»ç»Ÿæ—¥å¿—
- `alerts.log` - å‘Šè­¦è®°å½•
- `test_report.txt` - æµ‹è¯•æŠ¥å‘Šï¼ˆå¦‚æœç”Ÿæˆï¼‰

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è°ƒè¯•æ¨¡å¼è·å–æ›´å¤šä¿¡æ¯ï¼š

```bash
export DEBUG=true
./scripts/deploy_intranet.sh
```

## ğŸ”’ å®‰å…¨å»ºè®®

### å†…ç½‘éƒ¨ç½²å®‰å…¨

1. **ç½‘ç»œéš”ç¦»**ï¼šç¡®ä¿æœåŠ¡å™¨ä»…åœ¨å†…ç½‘å¯è®¿é—®
2. **é˜²ç«å¢™é…ç½®**ï¼šé™åˆ¶ä¸å¿…è¦çš„ç«¯å£è®¿é—®
3. **APIå¯†é’¥ç®¡ç†**ï¼šå¦¥å–„ä¿ç®¡OpenAI APIå¯†é’¥
4. **å®šæœŸæ›´æ–°**ï¼šä¿æŒä¾èµ–åŒ…å’Œç³»ç»Ÿæ›´æ–°

### è®¿é—®æ§åˆ¶

```bash
# é™åˆ¶ç›‘å¬åœ°å€ï¼ˆä»…æœ¬æœºï¼‰
export HOST=127.0.0.1

# æˆ–æŒ‡å®šç‰¹å®šç½‘æ®µ
export HOST=192.168.1.100
```

## ğŸ“ˆ æ‰©å±•å»ºè®®

### æ°´å¹³æ‰©å±•

**è´Ÿè½½å‡è¡¡éƒ¨ç½²**ï¼š
```bash
# æœåŠ¡å™¨1
./scripts/deploy_intranet.sh --port 8000

# æœåŠ¡å™¨2  
./scripts/deploy_intranet.sh --port 8001

# ä½¿ç”¨Nginxè´Ÿè½½å‡è¡¡
```

### å‚ç›´æ‰©å±•

**èµ„æºå‡çº§**ï¼š
- å¢åŠ å†…å­˜ï¼šæ”¯æŒæ›´å¤šå¹¶å‘ä¼šè¯
- å‡çº§CPUï¼šæé«˜å“åº”é€Ÿåº¦
- ä½¿ç”¨SSDï¼šåŠ å¿«å‘é‡æ•°æ®åº“è®¿é—®

## ğŸ†˜ æŠ€æœ¯æ”¯æŒ

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **ä¼šè¯ç®¡ç†**ï¼šæ ¹æ®å®é™…ç”¨æˆ·æ•°è°ƒæ•´ `MAX_SESSIONS`
2. **æ¸…ç†é¢‘ç‡**ï¼šæ ¹æ®æœåŠ¡å™¨æ€§èƒ½è°ƒæ•´ `CLEANUP_INTERVAL_SECONDS`
3. **æ¨¡å‹é€‰æ‹©**ï¼šä½¿ç”¨ `gpt-4o-mini` è·å¾—æ›´å¿«å“åº”
4. **èµ„æºç›‘æ§**ï¼šå®šæœŸæ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ

### æœ€ä½³å®è·µ

1. **å®šæœŸé‡å¯**ï¼šæ¯24å°æ—¶é‡å¯ä¸€æ¬¡æœåŠ¡ï¼Œæ¸…ç†ç´¯ç§¯çŠ¶æ€
2. **æ—¥å¿—è½®è½¬**ï¼šé…ç½®æ—¥å¿—è½®è½¬ï¼Œé¿å…æ—¥å¿—æ–‡ä»¶è¿‡å¤§
3. **å¤‡ä»½ç­–ç•¥**ï¼šå®šæœŸå¤‡ä»½å‘é‡æ•°æ®åº“å’Œé…ç½®æ–‡ä»¶
4. **æ€§èƒ½æµ‹è¯•**ï¼šå®šæœŸæ‰§è¡Œå¹¶å‘æµ‹è¯•ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§

---

## ğŸ‰ éƒ¨ç½²å®Œæˆ

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š

1. **è®¿é—®åº”ç”¨**ï¼š`http://æœåŠ¡å™¨IP:ç«¯å£`
2. **æŸ¥çœ‹ç®¡ç†é¢æ¿**ï¼š`http://æœåŠ¡å™¨IP:ç«¯å£/admin`
3. **è¿è¡Œæ€§èƒ½æµ‹è¯•**ï¼š`python3 test_concurrent.py`
4. **ç›‘æ§ç³»ç»ŸçŠ¶æ€**ï¼š`python3 monitor.py --once`

## ğŸ‘¨â€ğŸ’» å¼€å‘ä¿¡æ¯

**å¼€å‘è€…**ï¼šBin Liu (bliu3@cisco.com)  
**ç‰ˆæœ¬**ï¼šv1.0  
**é€‚ç”¨é¢†åŸŸ**ï¼šUECæ–‡æ¡£çŸ¥è¯†ç®¡ç†  
**é¡¹ç›®æ€§è´¨**ï¼šAIçŸ¥è¯†ç”»å»Šç³»ç»Ÿ

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚éœ€æŠ€æœ¯æ”¯æŒæˆ–æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·è”ç³»ï¼š
- **é‚®ç®±**ï¼šbliu3@cisco.com
- **é¡¹ç›®**ï¼šAIçŸ¥è¯†ç”»å»Š--Ask me anything about UEC v1.0

---

ğŸ‰ **äº«å—æ‚¨çš„å¤šç”¨æˆ·AIçŸ¥è¯†ç”»å»Šç³»ç»Ÿï¼** å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒåŸºç¡€æ–‡æ¡£ [README.md](README.md) æˆ–è”ç³»å¼€å‘è€…ã€‚ğŸ¨